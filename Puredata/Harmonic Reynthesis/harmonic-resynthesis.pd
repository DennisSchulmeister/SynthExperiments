#N canvas 0 49 1920 1009 12;
#X obj -30 -30 preset_hub k12 1 %hidden%;
#N canvas 0 49 1920 1009 ui 0;
#X obj 190 90 cnv 15 960 440 empty empty empty 20 12 0 14 #e0eaf1 #404040
0;
#X obj 500 130 cnv 15 640 360 empty empty empty 20 12 0 14 #ffffff
#404040 0;
#N canvas 0 0 450 300 (subpatch) 0;
#X array soundfile 51316 float 0 black black;
#X coords 0 1 51315 -1 640 360 1;
#X restore 500 130 graph;
#X obj 200 100 bng 20 250 50 0 cmd-load-soundfile empty Load\ Soundfile
25 7 0 13 #fcfcfc #000000 #000000 1;
#X obj 200 130 bng 20 250 50 0 cmd-clear-soundfile empty Clear\ Soundfile
25 7 0 13 #fcfcfc #000000 #000000 1;
#X obj 200 230 bng 20 250 50 0 cmd-clear-result empty Clear\ Result
25 7 0 13 #fcfcfc #000000 #000000 1;
#X obj 200 200 bng 20 250 50 0 cmd-analyze empty Anaylze 25 7 0 13
#fcfcfc #000000 #000000 1;
#X floatatom 360 360 5 0 0 1 ms - p-resynth-size-ms 0 0 1, f 5;
#X text 200 360 Timbre Frame Size:;
#X text 900 100 Detected base frequency:;
#X floatatom 1080 100 5 0 0 1 Hz - p-resyth-base-frequency 0 0 0,
f 5;
#N canvas 0 49 1920 1009 cmd-others 0;
#X text 10 10 Handle other commands;
#X obj 100 130 r cmd-load-soundfile;
#X text 100 100 ==== Load Soundfile ====;
#X obj 100 160 openpanel 0;
#X msg 100 190 read -resize \$1 soundfile;
#X obj 100 220 soundfiler;
#X text 400 100 ==== Clear Soundfile ====;
#X text 700 100 ==== Play Soundfile ====;
#X obj 400 130 r cmd-clear-soundfile;
#X obj 700 130 r cmd-play-soundfile;
#X obj 700 160 tabplay~ soundfile;
#X msg 400 160 \; soundfile const 0 \; soundfile resize 100;
#X obj 700 190 throw~ output;
#X text 1000 100 ==== Clear Result ====;
#X obj 1000 130 r cmd-clear-result;
#X text 1300 100 ==== Save Result ====;
#X text 1300 300 ==== Load Result ====;
#X obj 1300 130 r cmd-save-result;
#X obj 1300 330 r cmd-load-result;
#X obj 1300 220 s harmonic-snapshots;
#X obj 1300 160 savepanel;
#X msg 1300 190 write \$1;
#X obj 1300 360 openpanel;
#X obj 1300 760 until, f 29;
#X msg 1000 160 \; p-resynth-base-frequency 0 \; p-resynth-attack-ms
10 \; p-resynth-frame-ms 50 \; p-resynth-speed 1 \; \; car-1-ratio
1 \; car-2-ratio 2 \; car-3-ratio 3 \; car-4-ratio 4 \; car-5-ratio
5 \; car-6-ratio 6 \; car-7-ratio 7 \; car-8-ratio 8 \; car-9-ratio
9 \; car-10-ratio 10 \; car-11-ratio 11 \; car-12-ratio 12 \; car-13-ratio
13 \; car-14-ratio 14 \; car-15-ratio 15 \; car-16-ratio 16 \; \; harmonic-snapshots
clear \;;
#X obj 1500 600 r resynth-end-init;
#X obj 1300 730 spigot, f 27;
#X msg 1340 690 1;
#X obj 1480 690 0;
#X obj 1500 630 trigger b b;
#X obj 1336 421 bang;
#X obj 1336 450 s \$0-result-loaded;
#X obj 1340 660 r \$0-result-loaded;
#X obj 1300 390 trigger a b;
#X msg 1300 790 \; harmonic-snapshots next;
#X obj 1180 660 print begin;
#X obj 1660 710 print end;
#X obj 1300 600 r resynth-start-init;
#X msg 1300 480 \; harmonic-snapshots clear \; harmonic-snapshots read
\$1 \; harmonic-snapshots next;
#X connect 1 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 8 0 11 0;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 14 0 24 0;
#X connect 17 0 20 0;
#X connect 18 0 22 0;
#X connect 20 0 21 0;
#X connect 21 0 19 0;
#X connect 23 0 34 0;
#X connect 25 0 29 0;
#X connect 25 0 36 0;
#X connect 26 0 23 0;
#X connect 27 0 26 1;
#X connect 28 0 26 1;
#X connect 29 0 28 0;
#X connect 29 1 23 1;
#X connect 30 0 31 0;
#X connect 32 0 27 0;
#X connect 33 0 38 0;
#X connect 33 1 30 0;
#X connect 37 0 26 0;
#X connect 37 0 35 0;
#X restore 1200 220 pd cmd-others;
#N canvas 0 49 1920 1009 cmd-analyze 0;
#X text 10 10 Do the frequency analysis;
#X obj 500 100 r cmd-analyze;
#X obj 580 1680 print SIGMUND~;
#X obj 140 160 samplerate~;
#X obj 500 130 trigger b b;
#X obj 100 220 *;
#X obj 140 189 / 1000;
#X obj 100 130 trigger f b;
#X obj 140 460 samplerate~;
#X obj 100 520 *;
#X obj 140 489 / 1000;
#X obj 100 430 trigger f b;
#X floatatom 100 250 5 0 0 1 Attack_Samples - - 0 0 1, f 5;
#X floatatom 100 550 5 0 0 1 Frame_Samples - - 0 0 1, f 5;
#X text 100 70 ==== Parameters ====;
#X text 500 70 ==== Frequency Analysis ====;
#X text 510 230 ---- Detect fundamental pitch ----;
#X obj 540 280 samplerate~;
#X msg 580 1620 list soundfile 1000 0 44100 0;
#X obj 580 1650 sigmund~ -t -npeak 16 peaks;
#X text 510 1550 ---- Detect attack harmonics ----;
#X text 510 1720 ---- Deteckt harmonic frames ----;
#X obj 500 1570 trigger b b;
#X obj 500 1740 trigger b b;
#X obj 500 250 trigger b b;
#X obj 540 340 sigmund~ -t pitch;
#X msg 540 310 list soundfile 128 0 \$1 0;
#X obj 540 370 mtof;
#X obj 900 80 qlist;
#X obj 900 50 r harmonic-snapshots;
#X text 510 450 ---- Add parameter initialization header ----;
#X obj 500 470 trigger b;
#X obj 500 1130 trigger b a;
#X obj 610 620 r car-1-ratio;
#X obj 630 650 r car-2-ratio;
#X obj 650 680 r car-3-ratio;
#X obj 670 710 r car-4-ratio;
#X obj 690 740 r car-5-ratio;
#X obj 710 770 r car-6-ratio;
#X obj 730 800 r car-7-ratio;
#X obj 750 830 r car-8-ratio;
#X obj 770 860 r car-9-ratio;
#X obj 790 890 r car-10-ratio;
#X obj 810 920 r car-11-ratio;
#X obj 830 950 r car-12-ratio;
#X obj 850 980 r car-13-ratio;
#X obj 870 1010 r car-14-ratio;
#X obj 890 1040 r car-15-ratio;
#X obj 910 1070 r car-16-ratio;
#X obj 590 590 r p-resynth-speed;
#X obj 530 500 r p-resynth-base-frequency;
#X obj 550 530 r p-resynth-attack-ms;
#X obj 570 560 r p-resynth-frame-ms;
#X msg 540 1160 \; harmonic-snapshots add 0 resynth-start-init bang
\; harmonic-snapshots add 0 p-resynth-base-frequency \$2 \; harmonic-snapshots
add 0 p-resynth-attack-ms \$3 \; harmonic-snapshots add 0 p-resynth-frame-ms
\$4 \; harmonic-snapshots add 0 p-resynth-speed \$5 \; harmonic-snapshots
add 0 car-1-ratio \$6 \; harmonic-snapshots add 0 car-2-ratio \$7 \;
harmonic-snapshots add 0 car-3-ratio \$8 \; harmonic-snapshots add
0 car-4-ratio \$9 \; harmonic-snapshots add 0 car-5-ratio \$10 \; harmonic-snapshots
add 0 car-6-ratio \$11 \; harmonic-snapshots add 0 car-7-ratio \$12
\; harmonic-snapshots add 0 car-8-ratio \$13 \; harmonic-snapshots
add 0 car-9-ratio \$14 \; harmonic-snapshots add 0 car-10-ratio \$15
\; harmonic-snapshots add 0 car-11-ratio \$16 \; harmonic-snapshots
add 0 car-12-ratio \$17 \; harmonic-snapshots add 0 car-13-ratio \$18
\; harmonic-snapshots add 0 car-14-ratio \$19 \; harmonic-snapshots
add 0 car-15-ratio \$20 \; harmonic-snapshots add 0 car-16-ratio \$21
\; harmonic-snapshots add 0 resynth-end-init bang;
#X obj 500 1100 pack b f f f f f f f f f f f f f f f f f f f f;
#X obj 950 80 s resynth-end-init;
#X obj 100 100 r p-resynth-attack-ms;
#X obj 100 280 s \$0-attack-samples;
#X obj 100 580 s \$0-frame-samples;
#X obj 100 400 r p-resynth-frame-ms;
#X obj 540 400 s p-resynth-base-frequency;
#X msg 540 160 \; harmonic-snapshots clear;
#X connect 1 0 4 0;
#X connect 3 0 6 0;
#X connect 4 0 24 0;
#X connect 4 1 61 0;
#X connect 5 0 12 0;
#X connect 6 0 5 1;
#X connect 7 0 5 0;
#X connect 7 1 3 0;
#X connect 8 0 10 0;
#X connect 9 0 13 0;
#X connect 10 0 9 1;
#X connect 11 0 9 0;
#X connect 11 1 8 0;
#X connect 12 0 57 0;
#X connect 13 0 58 0;
#X connect 17 0 26 0;
#X connect 18 0 19 0;
#X connect 19 0 2 0;
#X connect 22 0 23 0;
#X connect 24 0 31 0;
#X connect 24 1 17 0;
#X connect 25 0 27 0;
#X connect 26 0 25 0;
#X connect 27 0 60 0;
#X connect 28 1 55 0;
#X connect 29 0 28 0;
#X connect 31 0 54 0;
#X connect 32 0 22 0;
#X connect 32 1 53 0;
#X connect 33 0 54 5;
#X connect 34 0 54 6;
#X connect 35 0 54 7;
#X connect 36 0 54 8;
#X connect 37 0 54 9;
#X connect 38 0 54 10;
#X connect 39 0 54 11;
#X connect 40 0 54 12;
#X connect 41 0 54 13;
#X connect 42 0 54 14;
#X connect 43 0 54 15;
#X connect 44 0 54 16;
#X connect 45 0 54 17;
#X connect 46 0 54 18;
#X connect 47 0 54 19;
#X connect 48 0 54 20;
#X connect 49 0 54 4;
#X connect 50 0 54 1;
#X connect 51 0 54 2;
#X connect 52 0 54 3;
#X connect 54 0 32 0;
#X connect 56 0 7 0;
#X connect 59 0 11 0;
#X restore 1200 250 pd cmd-analyze;
#X obj 200 260 bng 20 250 50 0 cmd-save-result empty Save\ Result 25
7 0 13 #fcfcfc #000000 #000000 1;
#X obj 200 290 bng 19 250 50 0 cmd-load-result empty Load\ Result 25
7 0 13 #fcfcfc #000000 #000000 1;
#X msg 10 310 set \$1;
#X obj 1200 100 loadbang;
#X obj 200 160 bng 20 250 50 0 cmd-play-soundfile empty Play\ Soundfile
25 7 0 13 #fcfcfc #000000 #000000 1;
#X obj 1200 379 dac~;
#X obj 1200 350 catch~ output;
#N canvas 0 49 1920 1009 midi-oscbank 0;
#X obj 100 160 mtof;
#X obj 500 190 / 127;
#X obj 500 250 s \$0-velocity;
#X obj 100 330 *~;
#X obj 150 330 r \$0-velocity;
#X obj 100 359 throw~ output;
#X obj 100 220 s \$0-frequency;
#X floatatom 100 190 10 0 0 1 Frequency - - 0 0 1, f 10;
#X floatatom 500 219 10 0 0 1 Velocity - - 0 0 1, f 10;
#X floatatom 100 130 5 0 0 0 - - - 0 0 1, f 5;
#X floatatom 280 130 5 0 0 0 - - - 0 0 1, f 5;
#X obj 100 100 notein 1;
#X obj 700 100 r \$0-frequency;
#X obj 700 200 * 1;
#X obj 700 229 osc~;
#X obj 700 260 *~ 0;
#X obj 740 160 trigger b f;
#X obj 700 290 throw~ oscbank;
#X obj 100 300 catch~ oscbank;
#X obj 1000 100 r \$0-frequency;
#X obj 1000 229 osc~;
#X obj 1000 260 *~ 0;
#X obj 1040 160 trigger b f;
#X obj 1000 290 throw~ oscbank;
#X obj 1300 100 r \$0-frequency;
#X obj 1300 229 osc~;
#X obj 1300 260 *~ 0;
#X obj 1340 160 trigger b f;
#X obj 1300 290 throw~ oscbank;
#X obj 1600 100 r \$0-frequency;
#X obj 1600 229 osc~;
#X obj 1600 260 *~ 0;
#X obj 1640 160 trigger b f;
#X obj 1600 290 throw~ oscbank;
#X obj 1000 200 * 2;
#X obj 1300 200 * 3;
#X obj 1600 200 * 4;
#X obj 700 350 r \$0-frequency;
#X obj 700 479 osc~;
#X obj 700 510 *~ 0;
#X obj 740 410 trigger b f;
#X obj 700 540 throw~ oscbank;
#X obj 1000 350 r \$0-frequency;
#X obj 1000 479 osc~;
#X obj 1000 510 *~ 0;
#X obj 1040 410 trigger b f;
#X obj 1000 540 throw~ oscbank;
#X obj 1300 350 r \$0-frequency;
#X obj 1300 479 osc~;
#X obj 1300 510 *~ 0;
#X obj 1340 410 trigger b f;
#X obj 1300 540 throw~ oscbank;
#X obj 1600 350 r \$0-frequency;
#X obj 1600 479 osc~;
#X obj 1600 510 *~ 0;
#X obj 1640 410 trigger b f;
#X obj 1600 540 throw~ oscbank;
#X obj 700 450 * 5;
#X obj 1000 450 * 6;
#X obj 1300 450 * 7;
#X obj 1600 450 * 8;
#X obj 740 130 r car-1-ratio;
#X obj 750 260 r car-1-volume;
#X obj 1040 130 r car-2-ratio;
#X obj 1050 260 r car-2-volume;
#X obj 1350 260 r car-3-volume;
#X obj 1340 130 r car-3-ratio;
#X obj 1640 130 r car-4-ratio;
#X obj 1650 260 r car-4-volume;
#X obj 740 380 r car-5-ratio;
#X obj 750 510 r car-5-volume;
#X obj 1050 510 r car-6-volume;
#X obj 1040 380 r car-6-ratio;
#X obj 1340 380 r car-7-ratio;
#X obj 1350 510 r car-7-volume;
#X obj 1640 380 r car-8-ratio;
#X obj 1650 510 r car-8-volume;
#X obj 700 600 r \$0-frequency;
#X obj 700 729 osc~;
#X obj 700 760 *~ 0;
#X obj 740 660 trigger b f;
#X obj 700 790 throw~ oscbank;
#X obj 1000 600 r \$0-frequency;
#X obj 1000 729 osc~;
#X obj 1000 760 *~ 0;
#X obj 1040 660 trigger b f;
#X obj 1000 790 throw~ oscbank;
#X obj 1300 600 r \$0-frequency;
#X obj 1300 729 osc~;
#X obj 1300 760 *~ 0;
#X obj 1340 660 trigger b f;
#X obj 1300 790 throw~ oscbank;
#X obj 1600 600 r \$0-frequency;
#X obj 1600 729 osc~;
#X obj 1600 760 *~ 0;
#X obj 1640 660 trigger b f;
#X obj 1600 790 throw~ oscbank;
#X obj 700 850 r \$0-frequency;
#X obj 700 979 osc~;
#X obj 700 1010 *~ 0;
#X obj 740 910 trigger b f;
#X obj 700 1040 throw~ oscbank;
#X obj 1000 850 r \$0-frequency;
#X obj 1000 979 osc~;
#X obj 1000 1010 *~ 0;
#X obj 1040 910 trigger b f;
#X obj 1000 1040 throw~ oscbank;
#X obj 1300 850 r \$0-frequency;
#X obj 1300 979 osc~;
#X obj 1300 1010 *~ 0;
#X obj 1340 910 trigger b f;
#X obj 1300 1040 throw~ oscbank;
#X obj 1600 850 r \$0-frequency;
#X obj 1600 979 osc~;
#X obj 1600 1010 *~ 0;
#X obj 1640 910 trigger b f;
#X obj 1600 1040 throw~ oscbank;
#X obj 700 700 * 9;
#X obj 1000 700 * 10;
#X obj 1300 700 * 11;
#X obj 1600 700 * 12;
#X obj 740 630 r car-9-ratio;
#X obj 750 760 r car-9-volume;
#X obj 1040 630 r car-10-ratio;
#X obj 1050 760 r car-10-volume;
#X obj 1340 630 r car-11-ratio;
#X obj 1350 760 r car-11-volume;
#X obj 1640 630 r car-12-ratio;
#X obj 1650 760 r car-12-volume;
#X obj 700 950 * 13;
#X obj 1000 950 * 14;
#X obj 1300 950 * 15;
#X obj 1600 950 * 16;
#X obj 740 880 r car-13-ratio;
#X obj 750 1010 r car-13-volume;
#X obj 1040 880 r car-14-ratio;
#X obj 1050 1010 r car-14-volume;
#X obj 1340 880 r car-15-ratio;
#X obj 1350 1010 r car-15-volume;
#X obj 1640 880 r car-16-ratio;
#X obj 1650 1010 r car-16-volume;
#X obj 280 160 trigger b f;
#X msg 280 190 \; harmonic-snapshots rewind \; harmonic-snapshots bang
;
#X connect 0 0 7 0;
#X connect 1 0 8 0;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 7 0 6 0;
#X connect 8 0 2 0;
#X connect 9 0 0 0;
#X connect 10 0 141 0;
#X connect 11 0 9 0;
#X connect 11 1 10 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 17 0;
#X connect 16 0 13 0;
#X connect 16 1 13 1;
#X connect 18 0 3 0;
#X connect 19 0 34 0;
#X connect 20 0 21 0;
#X connect 21 0 23 0;
#X connect 22 0 34 0;
#X connect 22 1 34 1;
#X connect 24 0 35 0;
#X connect 25 0 26 0;
#X connect 26 0 28 0;
#X connect 27 0 35 0;
#X connect 27 1 35 1;
#X connect 29 0 36 0;
#X connect 30 0 31 0;
#X connect 31 0 33 0;
#X connect 32 0 36 0;
#X connect 32 1 36 1;
#X connect 34 0 20 0;
#X connect 35 0 25 0;
#X connect 36 0 30 0;
#X connect 37 0 57 0;
#X connect 38 0 39 0;
#X connect 39 0 41 0;
#X connect 40 0 57 0;
#X connect 40 1 57 1;
#X connect 42 0 58 0;
#X connect 43 0 44 0;
#X connect 44 0 46 0;
#X connect 45 0 58 0;
#X connect 45 1 58 1;
#X connect 47 0 59 0;
#X connect 48 0 49 0;
#X connect 49 0 51 0;
#X connect 50 0 59 0;
#X connect 50 1 59 1;
#X connect 52 0 60 0;
#X connect 53 0 54 0;
#X connect 54 0 56 0;
#X connect 55 0 60 0;
#X connect 55 1 60 1;
#X connect 57 0 38 0;
#X connect 58 0 43 0;
#X connect 59 0 48 0;
#X connect 60 0 53 0;
#X connect 61 0 16 0;
#X connect 62 0 15 1;
#X connect 63 0 22 0;
#X connect 64 0 21 1;
#X connect 65 0 26 1;
#X connect 66 0 27 0;
#X connect 67 0 32 0;
#X connect 68 0 31 1;
#X connect 69 0 40 0;
#X connect 70 0 39 1;
#X connect 71 0 44 1;
#X connect 72 0 45 0;
#X connect 73 0 50 0;
#X connect 74 0 49 1;
#X connect 75 0 55 0;
#X connect 76 0 54 1;
#X connect 77 0 117 0;
#X connect 78 0 79 0;
#X connect 79 0 81 0;
#X connect 80 0 117 0;
#X connect 80 1 117 1;
#X connect 82 0 118 0;
#X connect 83 0 84 0;
#X connect 84 0 86 0;
#X connect 85 0 118 0;
#X connect 85 1 118 1;
#X connect 87 0 119 0;
#X connect 88 0 89 0;
#X connect 89 0 91 0;
#X connect 90 0 119 0;
#X connect 90 1 119 1;
#X connect 92 0 120 0;
#X connect 93 0 94 0;
#X connect 94 0 96 0;
#X connect 95 0 120 0;
#X connect 95 1 120 1;
#X connect 97 0 129 0;
#X connect 98 0 99 0;
#X connect 99 0 101 0;
#X connect 100 0 129 0;
#X connect 100 1 129 1;
#X connect 102 0 130 0;
#X connect 103 0 104 0;
#X connect 104 0 106 0;
#X connect 105 0 130 0;
#X connect 105 1 130 1;
#X connect 107 0 131 0;
#X connect 108 0 109 0;
#X connect 109 0 111 0;
#X connect 110 0 131 0;
#X connect 110 1 131 1;
#X connect 112 0 132 0;
#X connect 113 0 114 0;
#X connect 114 0 116 0;
#X connect 115 0 132 0;
#X connect 115 1 132 1;
#X connect 117 0 78 0;
#X connect 118 0 83 0;
#X connect 119 0 88 0;
#X connect 120 0 93 0;
#X connect 121 0 80 0;
#X connect 122 0 79 1;
#X connect 123 0 85 0;
#X connect 124 0 84 1;
#X connect 125 0 90 0;
#X connect 126 0 89 1;
#X connect 127 0 95 0;
#X connect 128 0 94 1;
#X connect 129 0 98 0;
#X connect 130 0 103 0;
#X connect 131 0 108 0;
#X connect 132 0 113 0;
#X connect 133 0 100 0;
#X connect 134 0 99 1;
#X connect 135 0 105 0;
#X connect 136 0 104 1;
#X connect 137 0 110 0;
#X connect 138 0 109 1;
#X connect 139 0 115 0;
#X connect 140 0 114 1;
#X connect 141 0 142 0;
#X connect 141 1 1 0;
#X restore 1200 280 pd midi-oscbank;
#X text 200 330 Initial Attack Time:;
#X msg 10 230 set \$1;
#X floatatom 360 330 5 0 0 1 ms - p-resynth-attack-ms 0 0 1, f 5;
#X floatatom 500 500 5 0 0 2 - - car-1-ratio 0 0 1, f 5;
#X floatatom 540 500 5 0 0 2 - - car-2-ratio 0 0 1, f 5;
#X floatatom 580 500 5 0 0 2 - - car-3-ratio 0 0 1, f 5;
#X floatatom 620 500 5 0 0 2 - - car-4-ratio 0 0 1, f 5;
#X floatatom 660 500 5 0 0 2 - - car-5-ratio 0 0 1, f 5;
#X floatatom 700 500 5 0 0 2 - - car-6-ratio 0 0 1, f 5;
#X floatatom 740 500 5 0 0 2 - - car-7-ratio 0 0 1, f 5;
#X floatatom 780 500 5 0 0 2 - - car-8-ratio 0 0 1, f 5;
#X floatatom 820 500 5 0 0 2 - - car-9-ratio 0 0 1, f 5;
#X floatatom 860 500 5 0 0 2 - - car-10-ratio 0 0 1, f 5;
#X floatatom 900 500 5 0 0 2 - - car-11-ratio 0 0 1, f 5;
#X floatatom 940 500 5 0 0 2 - - car-12-ratio 0 0 1, f 5;
#X floatatom 980 500 5 0 0 2 - - car-13-ratio 0 0 1, f 5;
#X floatatom 1020 500 5 0 0 2 - - car-14-ratio 0 0 1, f 5;
#X floatatom 1060 500 5 0 0 2 - - car-15-ratio 0 0 1, f 5;
#X floatatom 1100 500 5 0 0 2 - - car-16-ratio 0 0 1, f 5;
#X msg 450 630 set \$1;
#X obj 450 600 r car-1-ratio;
#X obj 1200 129 s cmd-clear-result;
#X msg 570 630 set \$1;
#X obj 570 600 r car-2-ratio;
#X msg 690 630 set \$1;
#X msg 810 630 set \$1;
#X obj 690 600 r car-3-ratio;
#X obj 810 600 r car-4-ratio;
#X msg 930 630 set \$1;
#X msg 1050 630 set \$1;
#X msg 1170 630 set \$1;
#X msg 1290 630 set \$1;
#X obj 930 600 r car-5-ratio;
#X obj 1050 600 r car-6-ratio;
#X obj 1170 600 r car-7-ratio;
#X obj 1290 600 r car-8-ratio;
#X msg 540 730 set \$1;
#X msg 660 730 set \$1;
#X msg 780 730 set \$1;
#X msg 900 730 set \$1;
#X msg 1020 730 set \$1;
#X msg 1140 730 set \$1;
#X msg 1260 730 set \$1;
#X msg 1380 730 set \$1;
#X obj 540 700 r car-9-ratio;
#X obj 660 700 r car-10-ratio;
#X obj 780 700 r car-11-ratio;
#X obj 900 700 r car-12-ratio;
#X obj 1020 700 r car-13-ratio;
#X obj 1140 700 r car-14-ratio;
#X obj 1260 700 r car-15-ratio;
#X obj 1380 700 r car-16-ratio;
#X msg 970 40 set \$1;
#X text 380 500 Harmonic Ratios:;
#X text 200 500 Speed:;
#X floatatom 250 500 5 0 0 0 - - p-resynth-speed 0 0 1, f 5;
#X msg 10 450 set \$1;
#X obj 10 420 r p-resynth-speed;
#X text 200 400 The analysis will detect the amplitude of 16 evenly
spaced harmonics. You can change the speed and harmonic ratios and
play the resynthesized sound via MIDI., f 40;
#X obj 10 200 r p-resynth-attack-ms;
#X obj 10 280 r p-resynth-frame-ms;
#X obj 970 10 r p-resynth-base-frequency;
#X connect 15 0 7 0;
#X connect 16 0 42 0;
#X connect 19 0 18 0;
#X connect 19 0 18 1;
#X connect 22 0 23 0;
#X connect 40 0 24 0;
#X connect 41 0 40 0;
#X connect 43 0 25 0;
#X connect 44 0 43 0;
#X connect 45 0 26 0;
#X connect 46 0 27 0;
#X connect 47 0 45 0;
#X connect 48 0 46 0;
#X connect 49 0 28 0;
#X connect 50 0 29 0;
#X connect 51 0 30 0;
#X connect 52 0 31 0;
#X connect 53 0 49 0;
#X connect 54 0 50 0;
#X connect 55 0 51 0;
#X connect 56 0 52 0;
#X connect 57 0 32 0;
#X connect 58 0 33 0;
#X connect 59 0 34 0;
#X connect 60 0 35 0;
#X connect 61 0 36 0;
#X connect 62 0 37 0;
#X connect 63 0 38 0;
#X connect 64 0 39 0;
#X connect 65 0 57 0;
#X connect 66 0 58 0;
#X connect 67 0 59 0;
#X connect 68 0 60 0;
#X connect 69 0 61 0;
#X connect 70 0 62 0;
#X connect 71 0 63 0;
#X connect 72 0 64 0;
#X connect 73 0 10 0;
#X connect 77 0 76 0;
#X connect 78 0 77 0;
#X connect 80 0 22 0;
#X connect 81 0 15 0;
#X connect 82 0 73 0;
#X coords 0 -1 1 1 960 440 2 190 90;
#X restore 100 100 pd ui;
#N canvas 0 49 1920 1009 title 0;
#X obj 200 100 cnv 15 960 30 empty empty Harmonic\ Reynthesis\ for\ Mini\ Clavier
12 12 0 14 #842a2a #ffffff 0;
#X coords 0 -1 1 1 960 30 2 200 100;
#X restore 100 70 pd title;
#X text 1100 100 FIXME: Parameter initialization when a result file
is loaded (next-message?), f 85;
#X text 1100 130 TODO: Finish analysis algorithm;
#X text 1100 160 TODO: Change qlist tempo with speed parameter;
