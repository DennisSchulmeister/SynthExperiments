#N canvas 0 49 1920 1009 12;
#X obj -30 -30 preset_hub k12 1 %hidden%;
#X obj 100 110 r in-note;
#X obj 190 110 r in-velocity;
#X obj 310 110 r in-sustain;
#X obj 770 970 outlet~;
#X text 10 10 Tone Generator: Multi-Process Version (4 Processes \,
32 Notes Polyphony), f 75;
#X obj 100 140 ./utils/poly-sustain 32;
#X obj 100 740 pd~ -ninsig 0 -noutsig 1, f 28;
#X obj 100 410 loadbang;
#X text 150 600 Instantiate custom object in sub-process;
#X obj 250 800 print PD1;
#X msg 130 550 pd~ stop;
#X text 130 530 Manually stop process;
#X text 140 670 Forward paramers to sub-process;
#X obj 140 690 r tg;
#X text 100 380 ==== Sub-Process 1 ====;
#X obj 500 740 pd~ -ninsig 0 -noutsig 1, f 28;
#X obj 500 410 loadbang;
#X text 550 600 Instantiate custom object in sub-process;
#X msg 530 550 pd~ stop;
#X text 530 530 Manually stop process;
#X text 540 670 Forward paramers to sub-process;
#X obj 540 690 r tg;
#X text 500 380 ==== Sub-Process 2 ====;
#X msg 540 620 init ./tonegen-subprocess 8 8;
#X obj 650 800 print PD2;
#X obj 900 740 pd~ -ninsig 0 -noutsig 1, f 28;
#X obj 900 410 loadbang;
#X text 950 600 Instantiate custom object in sub-process;
#X msg 900 480 pd~ start -rt -nogui ./pd~/wrapper.pd, f 38;
#X msg 930 550 pd~ stop;
#X text 930 530 Manually stop process;
#X text 940 670 Forward paramers to sub-process;
#X obj 940 690 r tg;
#X obj 1300 740 pd~ -ninsig 0 -noutsig 1, f 28;
#X obj 1300 410 loadbang;
#X text 1350 600 Instantiate custom object in sub-process;
#X msg 1300 480 pd~ start -rt -nogui ./pd~/wrapper.pd, f 38;
#X msg 1330 550 pd~ stop;
#X text 1330 530 Manually stop process;
#X text 1340 670 Forward paramers to sub-process;
#X obj 1340 690 r tg;
#X text 900 380 ==== Sub-Process 3 ====;
#X text 1300 380 ==== Sub-Process 4 ====;
#X obj 1050 800 print PD3;
#X obj 1450 800 print PD4;
#X obj 500 170 + 1;
#X obj 500 200 moses 4;
#X text 110 460 Start wrapper patch;
#X text 510 460 Start wrapper patch;
#X text 910 460 Start wrapper patch;
#X text 1310 460 Start wrapper patch;
#X obj 500 230 bang;
#X text 570 200 <--- Number of processes;
#X text 100 80 ==== Global voice allocation ====;
#X text 500 80 ==== Resend parameters when all processes are ready
====;
#X obj 100 200 s tg;
#X msg 140 620 init ./tonegen-subprocess 0 8;
#X msg 940 620 init ./tonegen-subprocess 16 8;
#X msg 1340 620 init ./tonegen-subprocess 24 8;
#X msg 100 170 play-voice \$1 \$2 \$3;
#X obj 500 260 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc
#000000 #000000 1;
#X msg 500 480 pd~ start -rt -nogui ./pd~/wrapper.pd, f 38;
#X floatatom 500 140 5 0 0 0 - - - 0 0 1, f 5;
#X msg 550 140 set \$1;
#X obj 100 770 route PD_STARTED PD_INITIALIZED;
#X obj 100 800 s \$0-pd-initialized;
#X obj 500 800 s \$0-pd-initialized;
#X obj 900 800 s \$0-pd-initialized;
#X obj 1300 800 s \$0-pd-initialized;
#X obj 500 110 r \$0-pd-initialized;
#X obj 550 230 print all processes initialized!;
#X obj 500 290 s pd-initialized;
#X obj 500 770 route PD_STARTED PD_INITIALIZED;
#X obj 900 770 route PD_STARTED PD_INITIALIZED;
#X obj 1300 770 route PD_STARTED PD_INITIALIZED;
#X msg 100 480 pd~ start -nogui -rt ./pd~/wrapper.pd, f 38;
#X connect 1 0 6 0;
#X connect 2 0 6 1;
#X connect 3 0 6 2;
#X connect 6 0 60 0;
#X connect 7 0 65 0;
#X connect 7 1 4 0;
#X connect 8 0 76 0;
#X connect 11 0 7 0;
#X connect 14 0 7 0;
#X connect 16 0 73 0;
#X connect 16 1 4 0;
#X connect 17 0 62 0;
#X connect 19 0 16 0;
#X connect 22 0 16 0;
#X connect 24 0 16 0;
#X connect 26 0 74 0;
#X connect 26 1 4 0;
#X connect 27 0 29 0;
#X connect 29 0 26 0;
#X connect 30 0 26 0;
#X connect 33 0 26 0;
#X connect 34 0 75 0;
#X connect 34 1 4 0;
#X connect 35 0 37 0;
#X connect 37 0 34 0;
#X connect 38 0 34 0;
#X connect 41 0 34 0;
#X connect 46 0 47 0;
#X connect 46 0 64 0;
#X connect 47 1 52 0;
#X connect 47 1 71 0;
#X connect 52 0 61 0;
#X connect 57 0 7 0;
#X connect 58 0 26 0;
#X connect 59 0 34 0;
#X connect 60 0 56 0;
#X connect 61 0 72 0;
#X connect 62 0 16 0;
#X connect 63 0 46 0;
#X connect 64 0 63 0;
#X connect 65 0 57 0;
#X connect 65 1 66 0;
#X connect 65 2 10 0;
#X connect 70 0 63 0;
#X connect 73 0 24 0;
#X connect 73 1 67 0;
#X connect 73 2 25 0;
#X connect 74 0 58 0;
#X connect 74 1 68 0;
#X connect 74 2 44 0;
#X connect 75 0 59 0;
#X connect 75 1 69 0;
#X connect 75 2 45 0;
#X connect 76 0 7 0;
