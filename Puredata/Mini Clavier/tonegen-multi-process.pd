#N canvas 0 49 1920 1009 12;
#X obj -30 -30 preset_hub k12 1 %hidden%;
#X obj 100 110 r in-note;
#X obj 190 110 r in-velocity;
#X obj 310 110 r in-sustain;
#X obj 770 940 outlet~;
#X text 10 10 Tone Generator: Multi-Process Version (4 Processes \,
32 Notes Polyphony), f 75;
#X obj 100 140 ./utils/poly-sustain 32;
#X obj 100 740 pd~ -ninsig 0 -noutsig 1, f 28;
#X obj 100 410 loadbang;
#X text 150 600 Instantiate custom object in sub-process;
#X obj 100 800 route PD_READY;
#X obj 140 770 print PD1;
#X msg 130 550 pd~ stop;
#X text 130 530 Manually stop process;
#X text 140 670 Forward paramers to sub-process;
#X obj 140 690 r tg;
#X text 100 380 ==== Sub-Process 1 ====;
#X obj 500 740 pd~ -ninsig 0 -noutsig 1, f 28;
#X obj 500 410 loadbang;
#X text 550 600 Instantiate custom object in sub-process;
#X obj 500 800 route PD_READY;
#X msg 530 550 pd~ stop;
#X text 530 530 Manually stop process;
#X text 540 670 Forward paramers to sub-process;
#X obj 540 690 r tg;
#X text 500 380 ==== Sub-Process 2 ====;
#X msg 540 620 init ./tonegen-subprocess 8 8;
#X obj 540 770 print PD2;
#X obj 900 740 pd~ -ninsig 0 -noutsig 1, f 28;
#X obj 900 410 loadbang;
#X text 950 600 Instantiate custom object in sub-process;
#X obj 900 800 route PD_READY;
#X msg 900 480 pd~ start -rt -nogui ./pd~/wrapper.pd, f 38;
#X msg 930 550 pd~ stop;
#X text 930 530 Manually stop process;
#X text 940 670 Forward paramers to sub-process;
#X obj 940 690 r tg;
#X obj 1300 740 pd~ -ninsig 0 -noutsig 1, f 28;
#X obj 1300 410 loadbang;
#X text 1350 600 Instantiate custom object in sub-process;
#X obj 1300 800 route PD_READY;
#X msg 1300 480 pd~ start -rt -nogui ./pd~/wrapper.pd, f 38;
#X msg 1330 550 pd~ stop;
#X text 1330 530 Manually stop process;
#X text 1340 670 Forward paramers to sub-process;
#X obj 1340 690 r tg;
#X text 900 380 ==== Sub-Process 3 ====;
#X text 1300 380 ==== Sub-Process 4 ====;
#X obj 940 770 print PD3;
#X obj 1340 770 print PD4;
#X obj 500 110 loadbang;
#X obj 500 170 + 1;
#X msg 500 140 -1;
#X obj 500 200 moses 4;
#X text 110 460 Start wrapper patch;
#X text 510 460 Start wrapper patch;
#X text 910 460 Start wrapper patch;
#X text 1310 460 Start wrapper patch;
#X obj 100 830 trigger b b;
#X obj 100 860 s \$0-pd-ready;
#X obj 550 140 r \$0-pd-ready;
#X obj 500 230 bang;
#X obj 500 290 s pd-ready;
#X text 570 200 <--- Number of processes;
#X text 100 80 ==== Global voice allocation ====;
#X text 500 80 ==== Resend parameters when all processes are ready
====;
#X obj 100 200 s tg;
#X msg 140 620 init ./tonegen-subprocess 0 8;
#X msg 940 620 init ./tonegen-subprocess 16 8;
#X msg 1340 620 init ./tonegen-subprocess 24 8;
#X msg 100 170 play-voice \$1 \$2 \$3;
#X obj 500 260 bng 20 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000 1;
#X msg 100 480 pd~ start -rt -nogui ./pd~/wrapper.pd, f 38;
#X msg 500 480 pd~ start -rt -nogui ./pd~/wrapper.pd, f 38;
#X obj 500 830 trigger b b;
#X obj 500 860 s \$0-pd-ready;
#X obj 900 830 trigger b b;
#X obj 900 860 s \$0-pd-ready;
#X obj 1300 830 trigger b b;
#X obj 1300 860 s \$0-pd-ready;
#X obj 610 250 print all processes ready!;
#X connect 1 0 6 0;
#X connect 2 0 6 1;
#X connect 3 0 6 2;
#X connect 6 0 70 0;
#X connect 7 0 10 0;
#X connect 7 0 11 0;
#X connect 7 1 4 0;
#X connect 8 0 72 0;
#X connect 10 0 58 0;
#X connect 12 0 7 0;
#X connect 15 0 7 0;
#X connect 17 0 20 0;
#X connect 17 0 27 0;
#X connect 17 1 4 0;
#X connect 18 0 73 0;
#X connect 20 0 74 0;
#X connect 21 0 17 0;
#X connect 24 0 17 0;
#X connect 26 0 17 0;
#X connect 28 0 31 0;
#X connect 28 0 48 0;
#X connect 28 1 4 0;
#X connect 29 0 32 0;
#X connect 31 0 76 0;
#X connect 32 0 28 0;
#X connect 33 0 28 0;
#X connect 36 0 28 0;
#X connect 37 0 40 0;
#X connect 37 0 49 0;
#X connect 37 1 4 0;
#X connect 38 0 41 0;
#X connect 40 0 78 0;
#X connect 41 0 37 0;
#X connect 42 0 37 0;
#X connect 45 0 37 0;
#X connect 50 0 52 0;
#X connect 51 0 53 0;
#X connect 52 0 51 0;
#X connect 53 1 61 0;
#X connect 53 1 80 0;
#X connect 58 0 59 0;
#X connect 58 1 67 0;
#X connect 60 0 51 0;
#X connect 61 0 71 0;
#X connect 67 0 7 0;
#X connect 68 0 28 0;
#X connect 69 0 37 0;
#X connect 70 0 66 0;
#X connect 71 0 62 0;
#X connect 72 0 7 0;
#X connect 73 0 17 0;
#X connect 74 0 75 0;
#X connect 74 1 26 0;
#X connect 76 0 77 0;
#X connect 76 1 68 0;
#X connect 78 0 79 0;
#X connect 78 1 69 0;
